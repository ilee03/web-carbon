<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="body">
        <div class="logo">
            <img class="logo-img" src="./icons/icon-128x128.png">
            <div class="logo-text">WebCarbon Counter</div>
        </div>
        <hr>
        <div class="main-content">
            <div class="today">
                <div>Current CO<sub>2</sub>e:</div>
                <span id="current-carbon">0.00 g CO2e</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Fetch the carbon emission for the current website
            chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                let currentTab = tabs[0];
                if (currentTab) {
                    let emissions = calculateCarbonEmissions(currentTab.url); // Calculate emissions based on the URL
                    document.getElementById("current-carbon").innerText = emissions + " g CO2e"; // Display the emissions
                }
            });
        });

        // Placeholder function to calculate emissions based on the current website URL
        function calculateCarbonEmissions(url) {
            // Example logic to determine emissions based on URL
            // Replace this logic with actual data or an API call
            return (Math.random() * 5).toFixed(2); // Placeholder: Random emissions for demonstration
        }
    </script>
</body>

</html>
